version: '3.8'

services:
  # Scraper service - run on-demand via cron
  # Usage: docker-compose -f docker-compose.scraper.yml run --rm narro-scraper python3 run.py
  narro-scraper:
    build:
      context: ../scraper
      dockerfile: Dockerfile
    container_name: narro-scraper
    # Do not restart automatically - runs on-demand
    restart: "no"
    env_file:
      - .env.production
    volumes:
      # Mount thumbnails directory (shared with API)
      - ../thumbnails:/app/thumbnails
    networks:
      - narro-network

networks:
  narro-network:
    external: true
    name: narro-network




